<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      template="/WEB-INF/facelets/templates/layout.xhtml"> 

	<ui:define name="encabezado">
		<ui:include src="/WEB-INF/facelets/headers/userHeader.xhtml"/>
	</ui:define>
	
	<ui:define name="menu">
		<ui:include src="/WEB-INF/facelets/menus/userMenu.xhtml"/>
	</ui:define>
	
	<ui:define name="body">
		<div class="container-fluid">
			<h1><p:outputLabel value="Nueva Ruta" /></h1>
			
			<p:separator/>
			
			<p class="well">Completa todos los campos y luego presiona <b>Confirmar</b> para agregar la ruta</p>
			
			<h:form method="post" enctype="multipart/form-data" >
				<ui:include src="/WEB-INF/facelets/forms/routeForm.xhtml"/>
			    				
				<div class="row inline">
				
				<p:galleria value="#{routeBean.images}" var="image" showCaption="true" autoPlay="true" rendered="#{routeBean.images.size() > 0}">
				        <p:graphicImage value="#{routeBean.myImage}" title="#{image}" width="600" height="450">
				            <f:param name="imagename" value="#{image}" />
				        </p:graphicImage>
				</p:galleria>
				
				
				<p:fileUpload mode="simple" value="#{routeBean.uploadedFile}" />
    			<p:commandButton value="AÃ±adir foto" action="#{routeBean.uploadPhoto()}" ajax="false" />
				</div>
								
				<br></br>			
				 <h:commandButton styleClass="btn btn-success btn-lg" value="Agregar" action="#{routeBean.add()}"/>	
				
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				<h:link class="btn btn-danger btn-lg" outcome="index">
					<span><i class="fa fa-times" aria-hidden="true"></i> Cancelar</span>
				</h:link>
 			</h:form>
		</div>
		<script type="text/javascript">
				$( document ).ready(function() {
					initMap();
				});
	</script>
	</ui:define>
	

</ui:composition>